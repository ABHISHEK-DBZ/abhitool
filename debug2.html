<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileForge - Debug Test 2</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://unpkg.com/qrcode@1.5.3/build/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>

    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
        <p id="loading-text">Processing...</p>
    </div>

    <header class="header">
        <div class="container">
            <div class="logo">FileForge - Debug v2</div>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1 class="hero-title">Testing Tool Loading - REFRESH PAGE!</h1>
            <p class="hero-subtitle">Press Ctrl+Shift+R to hard refresh and clear cache</p>
        </div>
    </section>

    <main class="main-content">
        <div class="container">
            <h3>QR Tools Container:</h3>
            <div id="qr-tools" style="border: 2px solid red; padding: 10px; margin: 10px 0; min-height: 100px;">
                <!-- QR tool will inject HTML here -->
            </div>
        </div>
    </main>

    <!-- Core utilities -->
    <script src="app.js"></script>

    <script>
        console.log('=== DEBUG v2 START ===');
        console.log('1. Page loaded');
        console.log('2. QR container exists?', document.getElementById('qr-tools') !== null);
        console.log('3. QRCode library loaded?', typeof QRCode !== 'undefined');
    </script>

    <!-- Load QR tools with timestamp to force reload -->
    <script src="js/tools/qr-tools.js?v=<?php echo time(); ?>"></script>

    <script>
        setTimeout(() => {
            console.log('4. After 1 second:');
            const container = document.getElementById('qr-tools');
            console.log('5. Container HTML length:', container.innerHTML.length);
            console.log('6. Has .tool-card?', container.querySelector('.tool-card') !== null);
            console.log('7. Container content preview:', container.innerHTML.substring(0, 200));
            console.log('=== DEBUG v2 END ===');
        }, 1000);

        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>
</body>

</html>